QuestaSim-64 vcover 10.7c Coverage Utility 2018.08 Aug 17 2018
Start time: 21:11:26 on Dec 17,2020
vcover report -details /home/es5017/nfshome/hwcw2/ucdb_files/uart_rx.ucdb 
Coverage Report by file with details

=================================================================================
=== File: rtl/ahb_uart/baudgen.v
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                            6         6         0    100.00

================================Statement Details================================

Statement Coverage for file rtl/ahb_uart/baudgen.v --

    1                                                //////////////////////////////////////////////////////////////////////////////////
    2                                                //END USER LICENCE AGREEMENT                                                    //
    3                                                //                                                                              //
    4                                                //Copyright (c) 2012, ARM All rights reserved.                                  //
    5                                                //                                                                              //
    6                                                //THIS END USER LICENCE AGREEMENT ("LICENCE") IS A LEGAL AGREEMENT BETWEEN      //
    7                                                //YOU AND ARM LIMITED ("ARM") FOR THE USE OF THE SOFTWARE EXAMPLE ACCOMPANYING  //
    8                                                //THIS LICENCE. ARM IS ONLY WILLING TO LICENSE THE SOFTWARE EXAMPLE TO YOU ON   //
    9                                                //CONDITION THAT YOU ACCEPT ALL OF THE TERMS IN THIS LICENCE. BY INSTALLING OR  //
    10                                               //OTHERWISE USING OR COPYING THE SOFTWARE EXAMPLE YOU INDICATE THAT YOU AGREE   //
    11                                               //TO BE BOUND BY ALL OF THE TERMS OF THIS LICENCE. IF YOU DO NOT AGREE TO THE   //
    12                                               //TERMS OF THIS LICENCE, ARM IS UNWILLING TO LICENSE THE SOFTWARE EXAMPLE TO    //
    13                                               //YOU AND YOU MAY NOT INSTALL, USE OR COPY THE SOFTWARE EXAMPLE.                //
    14                                               //                                                                              //
    15                                               //ARM hereby grants to you, subject to the terms and conditions of this Licence,//
    16                                               //a non-exclusive, worldwide, non-transferable, copyright licence only to       //
    17                                               //redistribute and use in source and binary forms, with or without modification,//
    18                                               //for academic purposes provided the following conditions are met:              //
    19                                               //a) Redistributions of source code must retain the above copyright notice, this//
    20                                               //list of conditions and the following disclaimer.                              //
    21                                               //b) Redistributions in binary form must reproduce the above copyright notice,  //
    22                                               //this list of conditions and the following disclaimer in the documentation     //
    23                                               //and/or other materials provided with the distribution.                        //
    24                                               //                                                                              //
    25                                               //THIS SOFTWARE EXAMPLE IS PROVIDED BY THE COPYRIGHT HOLDER "AS IS" AND ARM     //
    26                                               //EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING     //
    27                                               //WITHOUT LIMITATION WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR //
    28                                               //PURPOSE, WITH RESPECT TO THIS SOFTWARE EXAMPLE. IN NO EVENT SHALL ARM BE LIABLE/
    29                                               //FOR ANY DIRECT, INDIRECT, INCIDENTAL, PUNITIVE, OR CONSEQUENTIAL DAMAGES OF ANY/
    30                                               //KIND WHATSOEVER WITH RESPECT TO THE SOFTWARE EXAMPLE. ARM SHALL NOT BE LIABLE //
    31                                               //FOR ANY CLAIMS, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, //
    32                                               //TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE    //
    33                                               //EXAMPLE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE EXAMPLE. FOR THE AVOIDANCE/
    34                                               // OF DOUBT, NO PATENT LICENSES ARE BEING LICENSED UNDER THIS LICENSE AGREEMENT.//
    35                                               //////////////////////////////////////////////////////////////////////////////////
    36                                               
    37                                               module BAUDGEN
    38                                               #(parameter CLOCK_HZ = 50_000_000)
    39                                               (
    40                                                 input wire clk,
    41                                                 input wire resetn,
    42                                                 input wire [17:0] baud_rate,
    43                                                 output wire baudtick
    44                                               );
    45                                               
    46                                               
    47                                               reg [21:0] count_reg;
    48                                               wire [21:0] count_next;
    49                                               wire [21:0] nth_clk_for_baud;//the nth clock tick that the baud should tick on
    50                                               
    51                                               //Counter
    52              1                   21907211     always @ (posedge clk, negedge resetn)
    53                                                 begin
    54                                                   if(!resetn)
    55              1                          2           count_reg <= 0;
    56                                                   else
    57              1                   21907209           count_reg <= count_next;
    58                                               end
    59                                               
    60              1                          2     assign nth_clk_for_baud = (CLOCK_HZ / (baud_rate * 16));
    61                                               
    62                                               
    63                                               //Baudrate  = 19200 = 50Mhz/(163*16)
    64              1                   21907212     assign count_next = ((count_reg == nth_clk_for_baud) ? 0 : count_reg + 1'b1);
    65                                               
    66              1                   21907212     assign baudtick = ((count_reg == nth_clk_for_baud) ? 1'b1 : 1'b0);
    67                                               
    68                                               endmodule

Branch Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Branches                         4         4         0    100.00

================================Branch Details================================

Branch Coverage for file rtl/ahb_uart/baudgen.v --

------------------------------------IF Branch------------------------------------
    54                                  21907211     Count coming in to IF
    54              1                          2         if(!resetn)
    56              1                   21907209         else
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    64                                  21907210     Count coming in to IF
    64              1                     134400     assign count_next = ((count_reg == nth_clk_for_baud) ? 0 : count_reg + 1'b1);
    64              2                   21772810     assign count_next = ((count_reg == nth_clk_for_baud) ? 0 : count_reg + 1'b1);
Branch totals: 2 hits of 2 branches = 100.00%


Condition Coverage:
    Enabled Coverage            Active   Covered    Misses % Covered
    ----------------            ------      ----    ------ ---------
    FEC Condition Terms              1         1         0    100.00

================================Condition Details================================

Condition Coverage for file rtl/ahb_uart/baudgen.v --

----------------Focused Condition View-------------------
Line       64 Item    1  (count_reg == nth_clk_for_baud)
Condition totals: 1 of 1 input term covered = 100.00%


Expression Coverage:
    Enabled Coverage            Active   Covered    Misses % Covered
    ----------------            ------      ----    ------ ---------
    FEC Expression Terms             1         1         0    100.00

================================Expression Details================================

Expression Coverage for file rtl/ahb_uart/baudgen.v --

----------------Focused Expression View-----------------
Line       66 Item    1  (count_reg == nth_clk_for_baud)
Expression totals: 1 of 1 input term covered = 100.00%


Toggle Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Toggle Bins                    174        37       137     21.26

================================Toggle Details================================

Toggle Coverage for File rtl/ahb_uart/baudgen.v --

       Line                                   Node      1H->0L      0L->1H  "Coverage"
--------------------------------------------------------------------------------------
         41                                 resetn           0           1       50.00 
         42                           baud_rate[9]           0           0        0.00 
         42                           baud_rate[8]           0           0        0.00 
         42                           baud_rate[7]           0           0        0.00 
         42                           baud_rate[6]           0           0        0.00 
         42                           baud_rate[5]           0           0        0.00 
         42                           baud_rate[4]           0           0        0.00 
         42                           baud_rate[3]           0           0        0.00 
         42                           baud_rate[2]           0           0        0.00 
         42                           baud_rate[1]           0           0        0.00 
         42                          baud_rate[17]           0           0        0.00 
         42                          baud_rate[16]           0           0        0.00 
         42                          baud_rate[15]           0           0        0.00 
         42                          baud_rate[14]           0           0        0.00 
         42                          baud_rate[13]           0           0        0.00 
         42                          baud_rate[12]           0           0        0.00 
         42                          baud_rate[11]           0           0        0.00 
         42                          baud_rate[10]           0           0        0.00 
         42                           baud_rate[0]           0           0        0.00 
         47                           count_reg[9]           0           0        0.00 
         47                           count_reg[8]           0           0        0.00 
         47                          count_reg[21]           0           0        0.00 
         47                          count_reg[20]           0           0        0.00 
         47                          count_reg[19]           0           0        0.00 
         47                          count_reg[18]           0           0        0.00 
         47                          count_reg[17]           0           0        0.00 
         47                          count_reg[16]           0           0        0.00 
         47                          count_reg[15]           0           0        0.00 
         47                          count_reg[14]           0           0        0.00 
         47                          count_reg[13]           0           0        0.00 
         47                          count_reg[12]           0           0        0.00 
         47                          count_reg[11]           0           0        0.00 
         47                          count_reg[10]           0           0        0.00 
         48                          count_next[9]           0           0        0.00 
         48                          count_next[8]           0           0        0.00 
         48                         count_next[21]           0           0        0.00 
         48                         count_next[20]           0           0        0.00 
         48                         count_next[19]           0           0        0.00 
         48                         count_next[18]           0           0        0.00 
         48                         count_next[17]           0           0        0.00 
         48                         count_next[16]           0           0        0.00 
         48                         count_next[15]           0           0        0.00 
         48                         count_next[14]           0           0        0.00 
         48                         count_next[13]           0           0        0.00 
         48                         count_next[12]           0           0        0.00 
         48                         count_next[11]           0           0        0.00 
         48                         count_next[10]           0           0        0.00 
         49                    nth_clk_for_baud[9]           0           0        0.00 
         49                    nth_clk_for_baud[8]           0           0        0.00 
         49                    nth_clk_for_baud[7]           0           0        0.00 
         49                    nth_clk_for_baud[6]           0           0        0.00 
         49                    nth_clk_for_baud[5]           0           0        0.00 
         49                    nth_clk_for_baud[4]           0           0        0.00 
         49                    nth_clk_for_baud[3]           0           0        0.00 
         49                    nth_clk_for_baud[2]           0           0        0.00 
         49                   nth_clk_for_baud[21]           0           0        0.00 
         49                   nth_clk_for_baud[20]           0           0        0.00 
         49                    nth_clk_for_baud[1]           0           0        0.00 
         49                   nth_clk_for_baud[19]           0           0        0.00 
         49                   nth_clk_for_baud[18]           0           0        0.00 
         49                   nth_clk_for_baud[17]           0           0        0.00 
         49                   nth_clk_for_baud[16]           0           0        0.00 
         49                   nth_clk_for_baud[15]           0           0        0.00 
         49                   nth_clk_for_baud[14]           0           0        0.00 
         49                   nth_clk_for_baud[13]           0           0        0.00 
         49                   nth_clk_for_baud[12]           0           0        0.00 
         49                   nth_clk_for_baud[11]           0           0        0.00 
         49                   nth_clk_for_baud[10]           0           0        0.00 
         49                    nth_clk_for_baud[0]           0           0        0.00 

Total Node Count     =         87 
Toggled Node Count   =         18 
Untoggled Node Count =         69 

Toggle Coverage      =      21.26% (37 of 174 bins)

=================================================================================
=== File: rtl/ahb_uart/uart_rx.v
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                           29        29         0    100.00

================================Statement Details================================

Statement Coverage for file rtl/ahb_uart/uart_rx.v --

    1                                                //////////////////////////////////////////////////////////////////////////////////
    2                                                //END USER LICENCE AGREEMENT                                                    //
    3                                                //                                                                              //
    4                                                //Copyright (c) 2012, ARM All rights reserved.                                  //
    5                                                //                                                                              //
    6                                                //THIS END USER LICENCE AGREEMENT (�LICENCE�) IS A LEGAL AGREEMENT BETWEEN      //
    7                                                //YOU AND ARM LIMITED ("ARM") FOR THE USE OF THE SOFTWARE EXAMPLE ACCOMPANYING  //
    8                                                //THIS LICENCE. ARM IS ONLY WILLING TO LICENSE THE SOFTWARE EXAMPLE TO YOU ON   //
    9                                                //CONDITION THAT YOU ACCEPT ALL OF THE TERMS IN THIS LICENCE. BY INSTALLING OR  //
    10                                               //OTHERWISE USING OR COPYING THE SOFTWARE EXAMPLE YOU INDICATE THAT YOU AGREE   //
    11                                               //TO BE BOUND BY ALL OF THE TERMS OF THIS LICENCE. IF YOU DO NOT AGREE TO THE   //
    12                                               //TERMS OF THIS LICENCE, ARM IS UNWILLING TO LICENSE THE SOFTWARE EXAMPLE TO    //
    13                                               //YOU AND YOU MAY NOT INSTALL, USE OR COPY THE SOFTWARE EXAMPLE.                //
    14                                               //                                                                              //
    15                                               //ARM hereby grants to you, subject to the terms and conditions of this Licence,//
    16                                               //a non-exclusive, worldwide, non-transferable, copyright licence only to       //
    17                                               //redistribute and use in source and binary forms, with or without modification,//
    18                                               //for academic purposes provided the following conditions are met:              //
    19                                               //a) Redistributions of source code must retain the above copyright notice, this//
    20                                               //list of conditions and the following disclaimer.                              //
    21                                               //b) Redistributions in binary form must reproduce the above copyright notice,  //
    22                                               //this list of conditions and the following disclaimer in the documentation     //
    23                                               //and/or other materials provided with the distribution.                        //
    24                                               //                                                                              //
    25                                               //THIS SOFTWARE EXAMPLE IS PROVIDED BY THE COPYRIGHT HOLDER "AS IS" AND ARM     //
    26                                               //EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING     //
    27                                               //WITHOUT LIMITATION WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR //
    28                                               //PURPOSE, WITH RESPECT TO THIS SOFTWARE EXAMPLE. IN NO EVENT SHALL ARM BE LIABLE/
    29                                               //FOR ANY DIRECT, INDIRECT, INCIDENTAL, PUNITIVE, OR CONSEQUENTIAL DAMAGES OF ANY/
    30                                               //KIND WHATSOEVER WITH RESPECT TO THE SOFTWARE EXAMPLE. ARM SHALL NOT BE LIABLE //
    31                                               //FOR ANY CLAIMS, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, //
    32                                               //TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE    //
    33                                               //EXAMPLE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE EXAMPLE. FOR THE AVOIDANCE/
    34                                               // OF DOUBT, NO PATENT LICENSES ARE BEING LICENSED UNDER THIS LICENSE AGREEMENT.//
    35                                               //////////////////////////////////////////////////////////////////////////////////
    36                                               
    37                                               
    38                                               module UART_RX(
    39                                                 input wire clk,
    40                                                 input wire resetn,
    41                                                 input wire b_tick,        //Baud generator tick
    42                                                 input wire rx,            //RS-232 data port
    43                                                 output reg rx_done,       //transfer completed
    44                                                 output wire [8:0] dout    //output data
    45                                                 );
    46                                               
    47                                               //STATE DEFINES  
    48                                                 localparam [1:0] idle_st = 2'b00;
    49                                                 localparam [1:0] start_st = 2'b01;
    50                                                 localparam [1:0] data_st = 2'b11;
    51                                                 localparam [1:0] stop_st = 2'b10;
    52                                               
    53                                               //Internal Signals  
    54                                                 reg [1:0] current_state;
    55                                                 reg [1:0] next_state;
    56                                                 reg [3:0] b_reg; //baud-rate/over sampling counter
    57                                                 reg [3:0] b_next;
    58                                                 reg [3:0] count_reg; //data-bit counter
    59                                                 reg [3:0] count_next;
    60                                                 reg [8:0] data_reg; //data register
    61                                                 reg [8:0] data_next;
    62                                                 
    63                                               //State Machine  
    64              1                     269603       always @ (posedge clk, negedge resetn)
    65                                                 begin
    66                                                   if(!resetn)
    67                                                     begin
    68              1                          2             current_state <= idle_st;
    69              1                          2             b_reg <= 0;
    70              1                          2             count_reg <= 0;
    71              1                          2             data_reg <=0;
    72                                                     end
    73                                                   else
    74                                                     begin
    75              1                     269601             current_state <= next_state;
    76              1                     269601             b_reg <= b_next;
    77              1                     269601             count_reg <= count_next;
    78              1                     269601             data_reg <= data_next;
    79                                                     end
    80                                                 end
    81                                               
    82                                               //Next State Logic 
    83              1                     270001       always @*
    84                                                 begin
    85              1                     270001         next_state = current_state;
    86              1                     270001         b_next = b_reg;
    87              1                     270001         count_next = count_reg;
    88              1                     270001         data_next = data_reg;
    89              1                     270001         rx_done = 1'b0;
    90                                                       
    91                                                   case(current_state)
    92                                                     idle_st:
    93                                                       if(~rx)
    94                                                         begin
    95              1                        800                 next_state = start_st;
    96              1                        800                 b_next = 0;
    97                                                         end
    98                                                         
    99                                                     start_st:
    100                                                      if(b_tick)
    101                                                        if(b_reg == 7)
    102                                                          begin
    103             1                       1199                   next_state = data_st;
    104             1                       1199                   b_next = 0;
    105             1                       1199                   count_next = 0;
    106                                                          end
    107                                                        else
    108             1                       5600                 b_next = b_reg + 1'b1;
    109                                                          
    110                                                    data_st:
    111                                                      if(b_tick)
    112                                                        if(b_reg == 15)
    113                                                          begin
    114             1                       7200                   b_next = 0;
    115             1                       7200                   data_next = {rx, data_reg [8:1]};
    116                                                            if(count_next == 8) // 9 Data bits
    117             1                        800                     next_state = stop_st;
    118                                                            else
    119             1                       6400                     count_next = count_reg + 1'b1;
    120                                                          end
    121                                                        else
    122             1                     108000                 b_next = b_reg + 1;
    123                                                          
    124                                                    stop_st:
    125                                                      if(b_tick)
    126                                                        if(b_reg == 15) //One stop bit
    127                                                          begin
    128             1                        800                   next_state = idle_st;
    129             1                        800                   rx_done = 1'b1;
    130                                                          end
    131                                                        else
    132             1                      12000                b_next = b_reg + 1;
    133                                                  endcase
    134                                                end
    135                                                
    136                                                
    137                                                assign dout = data_reg;
    138                                                
    139                                                
    140                                                
    141                                              endmodule

Branch Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Branches                        23        22         1     95.65

================================Branch Details================================

Branch Coverage for file rtl/ahb_uart/uart_rx.v --

------------------------------------IF Branch------------------------------------
    66                                    269603     Count coming in to IF
    66              1                          2         if(!resetn)
    73              1                     269601         else
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------CASE Branch------------------------------------
    91                                    270001     Count coming in to CASE
    92              1                        802           idle_st:
    99              1                      13199           start_st:
    110             1                     230400           data_st:
    124             1                      25600           stop_st:
                                         ***0***     All False Count
Branch totals: 4 hits of 5 branches = 80.00%

------------------------------------IF Branch------------------------------------
    93                                       802     Count coming in to IF
    93              1                        800             if(~rx)
                                               2     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    100                                    13199     Count coming in to IF
    100             1                       6799             if(b_tick)
                                            6400     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    101                                     6799     Count coming in to IF
    101             1                       1199               if(b_reg == 7)
    107             1                       5600               else
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    111                                   230400     Count coming in to IF
    111             1                     115200             if(b_tick)
                                          115200     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    112                                   115200     Count coming in to IF
    112             1                       7200               if(b_reg == 15)
    121             1                     108000               else
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    116                                     7200     Count coming in to IF
    116             1                        800                   if(count_next == 8) // 9 Data bits
    118             1                       6400                   else
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    125                                    25600     Count coming in to IF
    125             1                      12800             if(b_tick)
                                           12800     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    126                                    12800     Count coming in to IF
    126             1                        800               if(b_reg == 15) //One stop bit
    131             1                      12000               else
Branch totals: 2 hits of 2 branches = 100.00%


Condition Coverage:
    Enabled Coverage            Active   Covered    Misses % Covered
    ----------------            ------      ----    ------ ---------
    FEC Condition Terms              4         4         0    100.00

================================Condition Details================================

Condition Coverage for file rtl/ahb_uart/uart_rx.v --

----------------Focused Condition View-------------------
Line       101 Item    1  (b_reg == 7)
Condition totals: 1 of 1 input term covered = 100.00%

----------------Focused Condition View-------------------
Line       112 Item    1  (b_reg == 15)
Condition totals: 1 of 1 input term covered = 100.00%

----------------Focused Condition View-------------------
Line       116 Item    1  (count_next == 8)
Condition totals: 1 of 1 input term covered = 100.00%

----------------Focused Condition View-------------------
Line       126 Item    1  (b_reg == 15)
Condition totals: 1 of 1 input term covered = 100.00%


FSM Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    FSMs                                                       83.33
        States                       4         4         0    100.00
        Transitions                  6         4         2     66.66

================================FSM Details================================

FSM Coverage for file rtl/ahb_uart/uart_rx.v --

FSM_ID: current_state
    Current State Object : current_state
    ----------------------
    State Value MapInfo :
    ---------------------
Line          State Name               Value
----          ----------               -----
  92             idle_st                   0
  99            start_st                   1
 110             data_st                   3
 124             stop_st                   2
    Covered States :
    ----------------
                   State           Hit_count
                   -----           ---------
                 idle_st                 803
                start_st               12800
                 data_st              230400
                 stop_st               25600
    Covered Transitions :
    ---------------------
Line            Trans_ID           Hit_count          Transition          
----            --------           ---------          ----------          
  95                   0                 800          idle_st -> start_st 
 103                   1                 800          start_st -> data_st 
 117                   3                 800          data_st -> stop_st  
 128                   5                 800          stop_st -> idle_st  
    Uncovered Transitions :
    -----------------------
Line            Trans_ID          Transition          
----            --------          ----------          
  68                   2          start_st -> idle_st 
  68                   4          data_st -> idle_st  


    Summary                     Active      Hits    Misses % Covered
    -------                     ------      ----    ------ ---------
        States                       4         4         0    100.00
        Transitions                  6         4         2     66.66
Toggle Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Toggle Bins                    104       103         1     99.03

================================Toggle Details================================

Toggle Coverage for File rtl/ahb_uart/uart_rx.v --

       Line                                   Node      1H->0L      0L->1H  "Coverage"
--------------------------------------------------------------------------------------
         40                                 resetn           0           1       50.00 

Total Node Count     =         52 
Toggled Node Count   =         51 
Untoggled Node Count =          1 

Toggle Coverage      =      99.03% (103 of 104 bins)

=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_driver.sv
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                           22        22         0    100.00

================================Statement Details================================

Statement Coverage for file tbench/ahb_uart/uart_rx/uart_rx_driver.sv --

    1                                                import uart_rx_pkg::uart_rx_transaction;
    2                                                
    3                                                class uart_rx_driver
    4                                                #(parameter DATA_SIZE=9) //data size with parity
    5                                                ;
    6                                                    mailbox drv_mbx;
    7                                                    event drv_done;
    8                                                    virtual uart_rx_if vif;
    9                                                    mailbox tr_mbx;
    10                                               
    11                                                   task run();
    12              1                          1             $display ("T=%0t [Driver] Driver is starting...", $time);        
    13              1                          1             forever begin
    14                                                           uart_rx_transaction t;
    15              1                        801                 $display ("T=%0t [Driver] Driver waiting for item...", $time);
    16              1                        801                 drv_mbx.get(t); //blocks until next item is present
    17              1                        800                 t.print("Driver");
    18              1                        800                 vif.rx <= 0; //start bit
    19              1                        800                 @(posedge vif.clk);
    20                                               
    21              1                        800                 for(int i = 0; i < 8; i++) @(posedge vif.baud_tick); //might not need this
    21              2                       6400     
    21              3                       6400     
    22                                               
    23              1                        800                 for (int i = 0; i < DATA_SIZE; i++ ) begin
    23              2                       7200     
    24              1                       7200                     vif.rx <= t.d_in[i];                
    25              1                       7200                     for (int j = 0; j < 16; j++) @ (posedge vif.baud_tick); //wait for 16 baud ticks because it's oversampled
    25              2                     115200     
    25              3                     115200     
    26              1                       7200                     @ (posedge vif.clk);
    27                                                           end
    28                                               
    29              1                        800                 vif.rx <= 1; //stop bit
    30              1                    2087200                 while(!vif.rx_done) @(posedge vif.clk);
    30              2                    2086400     
    31              1                        800                 tr_mbx.put(t);
    32              1                        800                 ->drv_done; //now we know the transmitter is done, we can raise the drv_done event to signal for a new transaction to send over
    33                                                           
    34                                                       end
    35                                                   endtask
    36                                               endclass


=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_environment.sv
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                           23        23         0    100.00

================================Statement Details================================

Statement Coverage for file tbench/ahb_uart/uart_rx/uart_rx_environment.sv --

    1                                                import uart_rx_pkg::*; //have to import * - importing each one manually gives errors about not being able to find it
    2                                                
    3                                                class uart_rx_environment;
    4                                                    uart_rx_scoreboard scb;
    5                                                    uart_rx_monitor mon;
    6                                                    uart_rx_driver drv;
    7                                                    uart_rx_generator gen;
    8                                                
    9                                                    mailbox scb_mbx;
    10                                                   mailbox drv_mbx;
    11                                                   mailbox tr_mbx;
    12                                               
    13                                                   virtual uart_rx_if vif;
    14                                                   event drv_done;
    15                                               
    16                                                   function new();
    17              1                          1             mon = new;
    18              1                          1             drv = new;
    19              1                          1             scb = new;
    20              1                          1             gen = new;
    21              1                          1             scb_mbx = new();
    22              1                          1             drv_mbx = new();
    23              1                          1             tr_mbx = new();
    24                                               
    25              1                          1             mon.scb_mbx = scb_mbx;
    26              1                          1             scb.scb_mbx = scb_mbx;
    27                                               
    28              1                          1             drv.drv_mbx = drv_mbx;
    29              1                          1             gen.drv_mbx = drv_mbx;
    30                                               
    31              1                          1             drv.tr_mbx = tr_mbx;
    32              1                          1             mon.tr_mbx = tr_mbx;
    33                                               
    34              1                          1             drv.drv_done = drv_done;
    35              1                          1             gen.drv_done = drv_done;
    36                                                   endfunction
    37                                               
    38                                                   virtual task run();
    39              1                          1             drv.vif = vif;
    40              1                          1             mon.vif = vif;
    41                                               
    42                                                       fork
    43              1                          1                 drv.run();
    44              1                          1                 mon.run();
    45              1                          1                 scb.run();
    46              1                          1                 gen.run();
    47                                                       join_any
    48                                                       
    49              1                          1             #200ns;
    50              1                          1             $display ("T=%0t Num tests passed: %0d | Num tests failed: %0d", $time, scb.num_passed, scb.num_failed);
    51                                               
    52                                                   endtask
    53                                               endclass


=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_generator.sv
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                            8         8         0    100.00

================================Statement Details================================

Statement Coverage for file tbench/ahb_uart/uart_rx/uart_rx_generator.sv --

    1                                                import uart_rx_pkg::uart_rx_transaction;
    2                                                
    3                                                class uart_rx_generator
    4                                                #(parameter NUM_TESTS=800) 
    5                                                ;
    6                                                    mailbox drv_mbx;
    7                                                    event drv_done;
    8                                                     
    9                                                    task run();
    10              1                          1             for (int i = 0; i < NUM_TESTS; i++) begin
    10              2                        800     
    11              1                        800                 uart_rx_transaction tr = new;
    12              1                        800                 void'(tr.randomize());
    13              1                        800                 $display ("T=%0t [Generator] Created transaction at index %0d", $time, i);
    14              1                        800                 drv_mbx.put(tr);
    15              1                        800                 @(drv_done);
    16                                                       end
    17              1                          1             $display ("T=%0t [Generator] Done generation of %0d transactions", $time, NUM_TESTS);
    18                                                   endtask
    19                                               endclass


=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_interface.sv
=================================================================================
Toggle Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Toggle Bins                     28        27         1     96.42

================================Toggle Details================================

Toggle Coverage for File tbench/ahb_uart/uart_rx/uart_rx_interface.sv --

       Line                                   Node      1H->0L      0L->1H  "Coverage"
--------------------------------------------------------------------------------------
          2                                 resetn           0           1       50.00 

Total Node Count     =         14 
Toggled Node Count   =         13 
Untoggled Node Count =          1 

Toggle Coverage      =      96.42% (27 of 28 bins)

=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_monitor.sv
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                            8         8         0    100.00

================================Statement Details================================

Statement Coverage for file tbench/ahb_uart/uart_rx/uart_rx_monitor.sv --

    1                                                import uart_rx_pkg::uart_rx_transaction;
    2                                                
    3                                                class uart_rx_monitor
    4                                                 ;
    5                                                    virtual uart_rx_if vif;
    6                                                    mailbox scb_mbx;
    7                                                    mailbox tr_mbx;
    8                                                
    9                                                 
    10                                                   task run();
    11              1                          1             $display ("T=%0t [Monitor] Monitor is starting...", $time);
    12              1                          1             forever begin
    13              1                   21906410                 @ (posedge vif.clk);
    14                                                           if (vif.rx_done) begin
    15                                                               uart_rx_transaction t; 
    16                                                               
    17                                                               logic [8:0] dout; 
    18              1                        800                     tr_mbx.get(t); //gets corresponding input
    19              1                        800                     $display ("T=%0t [Monitor] Monitor processing item...", $time);
    20              1                        800                     @ (posedge vif.clk);
    21                                               
    22              1                        800                     t.d_out = vif.dout;
    23              1                        800                     scb_mbx.put(t);
    24                                                           end
    25                                                       end
    26                                                       
    27                                                   endtask
    28                                               endclass

Branch Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Branches                         2         2         0    100.00

================================Branch Details================================

Branch Coverage for file tbench/ahb_uart/uart_rx/uart_rx_monitor.sv --

------------------------------------IF Branch------------------------------------
    14                                  21906409     Count coming in to IF
    14              1                        800                 if (vif.rx_done) begin
                                        21905609     All False Count
Branch totals: 2 hits of 2 branches = 100.00%



=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_scoreboard.sv
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                           11         9         2     81.81

================================Statement Details================================

Statement Coverage for file tbench/ahb_uart/uart_rx/uart_rx_scoreboard.sv --

    1                                                import uart_rx_pkg::uart_rx_transaction;
    2                                                
    3                                                
    4                                                class uart_rx_scoreboard;
    5                                                    mailbox scb_mbx;
    6               1                          1         int num_passed = 0;
    7               1                          1         int num_failed = 0;
    8                                                
    9                                                     covergroup cg with function sample(uart_rx_transaction t);
    10                                                       
    11                                                       even_odd_d_in: coverpoint ^t.d_in {
    12                                                           bins even = {0};
    13                                                           bins odd = {1};
    14                                                       }
    15                                                       
    16                                                       range_din_vals: coverpoint t.d_in {        
    17                                                           bins lo = {[0:127]};
    18                                                           bins med_lo = {[128:255]};
    19                                                           bins med_hi = {[256:383]};
    20                                                           bins hi = {[384:511]};
    21                                                       }
    22                                               
    23                                                       all: cross range_din_vals, even_odd_d_in;
    24                                               
    25                                                   endgroup
    26                                               
    27                                                   function new();
    28              1                          1             cg = new();
    29                                                   endfunction
    30                                               
    31                                               
    32                                                   task run();
    33              1                          1             forever begin
    34                                                           uart_rx_transaction t;
    35              1                        801                 scb_mbx.get(t);
    36              1                        800                 t.print("Scoreboard");
    37              1                        800                 cg.sample(t);
    38                                                           if (t.d_in == t.d_out) begin
    39              1                        800                     $display("PASS! Input vector %d is equal to output sequence of bits %d", t.d_in, t.d_out);
    40              1                        800                     num_passed = num_passed + 1;
    41                                                           end else begin
    42              1                    ***0***                     $display("FAIL! Input vector %d is NOT equal to output sequence of bits %d", t.d_in, t.d_out);
    43              1                    ***0***                     num_failed = num_failed + 1;
    44                                                           end
    45                                                       end
    46                                                   endtask
    47                                               endclass

Branch Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Branches                         2         1         1     50.00

================================Branch Details================================

Branch Coverage for file tbench/ahb_uart/uart_rx/uart_rx_scoreboard.sv --

------------------------------------IF Branch------------------------------------
    38                                       800     Count coming in to IF
    38              1                        800                 if (t.d_in == t.d_out) begin
    41              1                    ***0***                 end else begin
Branch totals: 1 hit of 2 branches = 50.00%


Condition Coverage:
    Enabled Coverage            Active   Covered    Misses % Covered
    ----------------            ------      ----    ------ ---------
    FEC Condition Terms              1         0         1      0.00

================================Condition Details================================

Condition Coverage for file tbench/ahb_uart/uart_rx/uart_rx_scoreboard.sv --

----------------Focused Condition View-------------------
Line       38 Item    1  (t.d_in == t.d_out)
Condition totals: 0 of 1 input term covered = 0.00%

           Input Term   Covered  Reason for no coverage   Hint
          -----------  --------  -----------------------  --------------
  (t.d_in == t.d_out)         N  '_0' not hit             Hit '_0'

     Rows:       Hits  FEC Target             Non-masking condition(s)      
 ---------  ---------  --------------------   -------------------------     
  Row   1:    ***0***  (t.d_in == t.d_out)_0  -                             
  Row   2:          1  (t.d_in == t.d_out)_1  -                             



=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_test.sv
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                            2         2         0    100.00

================================Statement Details================================

Statement Coverage for file tbench/ahb_uart/uart_rx/uart_rx_test.sv --

    1                                                import uart_rx_pkg::uart_rx_environment;
    2                                                
    3                                                class uart_rx_test;
    4                                                    uart_rx_environment env;
    5                                                
    6                                                    function new();
    7               1                          1             env = new;
    8                                                     endfunction
    9                                                
    10                                                   task run();
    11              1                          1             env.run();
    12                                                   endtask     
    13                                               endclass


=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_testbench.sv
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                           11        11         0    100.00

================================Statement Details================================

Statement Coverage for file tbench/ahb_uart/uart_rx/uart_rx_testbench.sv --

    1                                                import uart_rx_pkg::uart_rx_test;
    2                                                
    3                                                module uart_rx_testbench;
    4                                                    reg clk;
    5                                                    reg baud_tick;
    6                                                
    7                                                    uart_rx_if _if(clk, baud_tick);
    8                                                
    9               1                   43814423         always #10ns clk = ~clk; //50 mhz clock
    9               2                   43814422     
    10                                               
    11                                                   BAUDGEN 
    12                                                   #(.CLOCK_HZ(50_000_000))
    13                                                   uBAUDGEN(
    14                                                       .clk(clk),
    15                                                       .resetn(_if.resetn),
    16                                                       .baud_rate(18'd19200),
    17                                                       .baudtick(baud_tick)
    18                                                   );
    19                                               
    20                                                   UART_RX DUT (
    21                                                       .clk(clk),
    22                                                       .resetn(_if.resetn),
    23                                                       .rx(_if.rx),
    24                                                       .b_tick(baud_tick),
    25                                                       .dout(_if.dout),
    26                                                       .rx_done(_if.rx_done)
    27                                                    );
    28                                               
    29                                                   initial begin
    30              1                          1             automatic uart_rx_test t = new;        
    31                                               
    32              1                          1             $display ("T=%0t [Testbench] Testbench starting...", $time);
    33                                               
    34              1                          1             clk <= 0;
    35              1                          1             _if.resetn <= 0;
    36              1                          1             #40 _if.resetn <= 1;
    36              2                          1     
    37                                               
    38                                               
    39              1                          1             t.env.vif = _if;
    40                                                       fork
    41              1                          1                 t.run();    
    42                                                       join
    43                                                       
    44                                                       // $display ("T=%0t [Testbench] Testbench finishing...", $time);
    45                                                       // $finish; //this quits questasim...
    46              1                          1             $stop;
    47                                                   end
    48                                               endmodule

Toggle Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Toggle Bins                      4         4         0    100.00

================================Toggle Details================================

Toggle Coverage for File tbench/ahb_uart/uart_rx/uart_rx_testbench.sv --

       Line                                   Node      1H->0L      0L->1H  "Coverage"
--------------------------------------------------------------------------------------

Total Node Count     =          2 
Toggled Node Count   =          2 
Untoggled Node Count =          0 

Toggle Coverage      =     100.00% (4 of 4 bins)

=================================================================================
=== File: tbench/ahb_uart/uart_rx/uart_rx_transaction.sv
=================================================================================
Statement Coverage:
    Enabled Coverage            Active      Hits    Misses % Covered
    ----------------            ------      ----    ------ ---------
    Stmts                            1         1         0    100.00

================================Statement Details================================

Statement Coverage for file tbench/ahb_uart/uart_rx/uart_rx_transaction.sv --

    1                                                class uart_rx_transaction;
    2                                                
    3                                                    rand bit [8:0] d_in; //serial data coming in
    4                                                    bit [8:0] d_out;  //vector data going out
    5                                                 
    6                                                    function void print(string tag="");
    7               1                       1600             $display ("T=%0t [Transaction] (Tag: %s) d_in=0x%0h d_out=0x%0h", $time, tag, d_in, d_out);
    8                                                    endfunction
    9                                                endclass


COVERGROUP COVERAGE:
-----------------------------------------------------------------------------------------------
Covergroup                                             Metric       Goal    Status               
                                                                                              
-----------------------------------------------------------------------------------------------
 TYPE /uart_rx_pkg/uart_rx_scoreboard/cg              100.00%        100    Covered              
    covered/total bins:                                    14         14                      
    missing/total bins:                                     0         14                      
    % Hit:                                            100.00%        100                      
    Coverpoint cg::even_odd_d_in                      100.00%        100    Covered              
        covered/total bins:                                 2          2                      
        missing/total bins:                                 0          2                      
        % Hit:                                        100.00%        100                      
        bin even                                          428          1    Covered              
        bin odd                                           372          1    Covered              
    Coverpoint cg::range_din_vals                     100.00%        100    Covered              
        covered/total bins:                                 4          4                      
        missing/total bins:                                 0          4                      
        % Hit:                                        100.00%        100                      
        bin lo                                            215          1    Covered              
        bin med_lo                                        195          1    Covered              
        bin med_hi                                        206          1    Covered              
        bin hi                                            184          1    Covered              
    Cross cg::all                                     100.00%        100    Covered              
        covered/total bins:                                 8          8                      
        missing/total bins:                                 0          8                      
        % Hit:                                        100.00%        100                      
        bin <lo,even>                                     117          1    Covered              
        bin <med_lo,even>                                  95          1    Covered              
        bin <med_hi,even>                                 109          1    Covered              
        bin <hi,even>                                     107          1    Covered              
        bin <lo,odd>                                       98          1    Covered              
        bin <med_lo,odd>                                  100          1    Covered              
        bin <med_hi,odd>                                   97          1    Covered              
        bin <hi,odd>                                       77          1    Covered              

TOTAL COVERGROUP COVERAGE: 100.00%  COVERGROUP TYPES: 1

Total Coverage By File (code coverage only, filtered view): 85.62%

End time: 21:11:26 on Dec 17,2020, Elapsed time: 0:00:00
Errors: 0, Warnings: 0
